{"remainingRequest":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Learn\\blog-person\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Learn\\blog-person\\src\\App.vue","mtime":1578503174846},{"path":"D:\\Learn\\blog-person\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1572976728968},{"path":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js","mtime":1577118252216}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXYgZnJvbSAnLi9jb21wb25lbnRzL05hdicKaW1wb3J0IHttYXBHZXR0ZXJzLCBtYXBTdGF0ZX0gZnJvbSAidnVleCI7CmltcG9ydCBOZXdBcnRpY2xlIGZyb20gIi4vY29tcG9uZW50cy9OZXdBcnRpY2xlIgppbXBvcnQgTmV3Q29tbWVudHMgZnJvbSAiLi9jb21wb25lbnRzL05ld0NvbW1lbnRzIgppbXBvcnQgVGFnc0Nsb3VkIGZyb20gIi4vY29tcG9uZW50cy9UYWdzQ2xvdWQiCmltcG9ydCBMaW5lTGlzdCBmcm9tICIuL2NvbXBvbmVudHMvTGluZUxpc3QiCmltcG9ydCBTdWJtaXRCbG9nIGZyb20gIi4vY29tcG9uZW50cy9TdWJtaXRCbG9nIjsKaW1wb3J0IHtnZXRVc2VySVB9IGZyb20gIi4vYXNzZXRzL2pzL3V0aWwiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpewogICAgICByZXR1cm4gewogICAgICAgICAgdGFnc0xpc3Q6IFtdLAogICAgICAgICAgbmV3Q29tbWVudHM6IFtdLAogICAgICAgICAgbmV3QXJ0aWNsZXM6IFtdCiAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgTmF2LAogICAgICAgIFN1Ym1pdEJsb2csCiAgICAgICAgTmV3QXJ0aWNsZSwKICAgICAgICBOZXdDb21tZW50cywKICAgICAgICBUYWdzQ2xvdWQsCiAgICAgICAgTGluZUxpc3QKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZml4UmlnaHQgKHtlbGVtLCB3aWR0aH0pIHsKICAgICAgICAgICAgZWxlbS5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDsKICAgICAgICAgICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7CiAgICAgICAgfSwKICAgICAgICBsb2FkICgpIHsKICAgICAgICAgICAgLy8g6YCa55+laG9tZee7hOS7tuivt+axguaWh+eroOWIl+ihqAogICAgICAgICAgICBsZXQgY291bnQgPSB0aGlzLmNvdW50ICsgMTsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdob21lL3VwZGF0ZUNvdW50JywgY291bnQpOwogICAgICAgIH0sCiAgICAgICAgbG9vcEluaXQgKHRhcmdldEFyciwgb3JpZ2luQXJyKSB7CiAgICAgICAgICAgIHRhcmdldEFyci5mb3JFYWNoKGVsZSA9PiB7CiAgICAgICAgICAgICAgICBvcmlnaW5BcnIucHVzaChlbGUpOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZ2V0UmlnaHRJbmZvICgpIHsKICAgICAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICAgICAgICB1cmw6ICcvZ2V0UmlnaHRJbmZvJwogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgICAgIHRoaXMubG9vcEluaXQoZGF0YVswXSwgdGhpcy50YWdzTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb29wSW5pdChkYXRhWzFdLCB0aGlzLm5ld0NvbW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvb3BJbml0KGRhdGFbMl0sIHRoaXMubmV3QXJ0aWNsZXMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgcmVmcmVzaFNlbGYgKCkgewogICAgICAgICAgICBjb25zdCB7bmV3Q29tbWVudHMsIHRhZ3NMaXN0LCBuZXdBcnRpY2xlc30gPSB0aGlzOwogICAgICAgICAgICBuZXdDb21tZW50cy5sZW5ndGggPSAwOwogICAgICAgICAgICB0YWdzTGlzdC5sZW5ndGggPSAwOwogICAgICAgICAgICBuZXdBcnRpY2xlcy5sZW5ndGggPSAwOwogICAgICAgICAgICB0aGlzLmdldFJpZ2h0SW5mbygpOwogICAgICAgIH0sCiAgICAgICAgYXN5bmMgaW5pdFZ1ZXhEYXRhICgpIHsKICAgICAgICAgICAgLy8g5a+5dnVleOS4reimgemAmui/h+W8guatpei/m+ihjOWIneWni+WMlueahOaTjeS9nOmDveWGmeWcqOi/memHjAogICAgICAgICAgICAvLyDlkI7pnaLlr7l1cmzov5vooYzot6/nlLHlrojljass5pyq6L+b5YWl6aaW6aG15YmN5LiN5YWB6K646L+b5YWl5YW26aG16Z2iCiAgICAgICAgICAgIC8vIOS7peatpOadpeS/neivgeW8guatpeaVsOaNrueahOWIneWni+WMluWujOaIkDsKICAgICAgICAgICAgLy8g5rOo5oSP5a2Q6aG16Z2i5pWw5o2u6KaB5LiOc2Vzc2lvblN0b3JhZ2XlkIzmraUKICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLiRzdG9yZTsKCiAgICAgICAgICAgIC8vIHZ1ZXjphY3lkIjot6/nlLHlrojljavpmLLmraLpppbmrKHnm7TmjqXovpPlhaV1cmzov5vlhaXmlofnq6Dor6bmg4XpobUKICAgICAgICAgICAgc3RvcmUuY29tbWl0KCdob21lL3VwZGF0ZU15U3RhdGUnLCB0cnVlKTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnbXlTdGF0ZScsICd0cnVlJyk7CgogICAgICAgICAgICAvLyDljZrlrqLmlbDph4/liJ3lp4vljJYKICAgICAgICAgICAgdGhpcy5heGlvcyh7CiAgICAgICAgICAgICAgICB1cmw6ICcvaW5pdFZ1ZXgnLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgdGFnczogdGhpcy5maWx0ZXJCbG9nCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGxldCBibG9nTGVuZ3RoID0gIHJlcy5kYXRhWzBdWzBdWydibG9nTGVuZ3RoJ107CiAgICAgICAgICAgICAgICBzdG9yZS5jb21taXQoJ2hvbWUvaW5pdFZ1ZXgnLCB7CiAgICAgICAgICAgICAgICAgICAgYmxvZ0xlbmd0aAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdibG9nTGVuZ3RoJywgYmxvZ0xlbmd0aC50b1N0cmluZygpKTsKICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyBpcOWcsOWdgOWIneWni+WMlgogICAgICAgICAgICBsZXQgaXAgPSBhd2FpdCBnZXRVc2VySVAoKTsKICAgICAgICAgICAgc3RvcmUuY29tbWl0KCd1cGRhdGVJcCcsIGlwKTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnaXAnLCBpcC50b1N0cmluZygpKTsKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsvKgogICAgICAgIG1hcFN0YXRl5piv5LiA5Liq55Sxc3RhdGXlr7nlupTnmoTlh73mlbAo5q+P5qyh6K+75Y+Wc3RhdGXkvJrmiafooYzor6Xlh73mlbDov5Tlm57lubZzdGF0ZSnnu4TmiJDnmoTlr7nosaE7CiAgICAgICAg6Iul5Y+q6ZyA6KaB55Soc3RhdGXph4znmoTlgLzov5vooYzliJ3lp4vljJYo5LiN5YWz5b+D5ZCO57utc3RhdGXnmoTlj5jljJYpLAogICAgICAgIOWImeWPr+S9v+eUqHRoaXMuJHN0b3JlLnN0YXRl55qE5b2i5byP6L+b6KGM5Y+W5YC8CiAgICAgICAgKi8KICAgICAgICAuLi5tYXBTdGF0ZShbImNsb3VkVGFncyIsICJsZWZ0Q29sIiwgImxpbmVMaXN0IiwgInN1Ym1pdEJsb2ciXSksCiAgICAgICAgLi4ubWFwR2V0dGVycyh7CiAgICAgICAgICAgIHBob25lOiAiZ2V0RGV2aWNlSXNQaG9uZSIKICAgICAgICB9KSwKICAgICAgICBsaXN0ZW5TY3JvbGwgKCkgewogICAgICAgICAgICBsZXQgZWxlbSA9IHRoaXMuJHJlZnNbJ3Njcm9sbCddOwogICAgICAgICAgICBsZXQgd2lkdGggPSBlbGVtLm9mZnNldFdpZHRoOwogICAgICAgICAgICByZXR1cm4ge2VsZW0sICB3aWR0aH0KICAgICAgICB9LAogICAgICAgIC4uLm1hcEdldHRlcnMoewogICAgICAgICAgICBwaG9uZTogImdldERldmljZUlzUGhvbmUiCiAgICAgICAgfSksCiAgICAgICAgLi4ubWFwR2V0dGVycygiaG9tZSIsIFsiZGlzYWJsZWQiXSksCiAgICAgICAgLi4ubWFwU3RhdGUoImhvbWUiLCBbImNvdW50IiwgImZpbHRlckJsb2ciXSkKICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZml4UmlnaHQodGhpcy5saXN0ZW5TY3JvbGwpOwogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5pbml0VnVleERhdGEoKTsKICAgICAgICB0aGlzLmdldFJpZ2h0SW5mbygpOwogICAgfQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n    <div id=\"app\"\n         style=\"overflow: auto\"\n         v-infinite-scroll=\"load\"\n         infinite-scroll-disabled=\"disabled\"\n         infinite-scroll-distance=\"100\"\n         infinite-scroll-delay=\"100\">\n        <el-container>\n            <!--顶部导航-->\n            <el-header height=\"40px\">\n                <div class=\"my-nav\">\n                    <Nav/>\n                </div>\n            </el-header>\n            <!--内容区-->\n            <el-main>\n                <el-row>\n                    <!--左-->\n                    <el-col :span=\"phone ? 1 : 3\">\n                        <div class=\"grid-content\"></div>\n                    </el-col>\n                    <!--中-->\n                    <el-col :span=\"phone ? 22 : 18\">\n                        <div class=\"bg-white\">\n                            <el-row :gutter=\"20\">\n                                <!--左-->\n                                <el-col :span=\"leftCol\">\n                                    <div class=\"grid-left\">\n                                        <router-view @initBlogLength=\"initVuexData\" @refreshHome=\"refreshSelf\"/>\n                                    </div>\n                                </el-col>\n                                <!--右-->\n                                <el-col :span=\"8\" v-show=\"cloudTags\">\n                                    <div class=\"grid-right\" ref=\"scroll\">\n                                        <tags-cloud :tags=\"tagsList\"/>\n                                        <new-article :articles=\"newArticles\"/>\n                                        <new-comments :comments=\"newComments\"/>\n                                    </div>\n                                </el-col>\n                                <el-col :span=\"8\" v-show=\"lineList\" class=\"_fixed\">\n                                    <div class=\"grid-right\">\n                                        <line-list></line-list>\n                                    </div>\n                                </el-col>\n                                <el-col :span=\"phone ? 24 : 8\" v-show=\"submitBlog\">\n                                    <div class=\"grid-right\">\n                                        <submit-blog @refreshHome=\"refreshSelf\"/>\n                                    </div>\n                                </el-col>\n                            </el-row>\n                        </div>\n                    </el-col>\n                    <!--右-->\n                    <el-col :span=\"phone ? 1 : 3\">\n                        <div class=\"grid-content\"></div>\n                    </el-col>\n                </el-row>\n            </el-main>\n        </el-container>\n    </div>\n</template>\n\n<script>\n    import Nav from './components/Nav'\n    import {mapGetters, mapState} from \"vuex\";\n    import NewArticle from \"./components/NewArticle\"\n    import NewComments from \"./components/NewComments\"\n    import TagsCloud from \"./components/TagsCloud\"\n    import LineList from \"./components/LineList\"\n    import SubmitBlog from \"./components/SubmitBlog\";\n    import {getUserIP} from \"./assets/js/util\";\n\n    export default {\n        data(){\n          return {\n              tagsList: [],\n              newComments: [],\n              newArticles: []\n          }\n        },\n        components: {\n            Nav,\n            SubmitBlog,\n            NewArticle,\n            NewComments,\n            TagsCloud,\n            LineList\n        },\n        methods: {\n            fixRight ({elem, width}) {\n                elem.style.width = `${width}px`;\n                elem.style.position = 'fixed';\n            },\n            load () {\n                // 通知home组件请求文章列表\n                let count = this.count + 1;\n                this.$store.commit('home/updateCount', count);\n            },\n            loopInit (targetArr, originArr) {\n                targetArr.forEach(ele => {\n                    originArr.push(ele);\n                })\n            },\n            getRightInfo () {\n                this.axios({\n                    url: '/getRightInfo'\n                }).then(res => {\n                    if (res.data.length) {\n                        const data = res.data;\n                        this.loopInit(data[0], this.tagsList);\n                        this.loopInit(data[1], this.newComments);\n                        this.loopInit(data[2], this.newArticles);\n                    }\n                }).catch(err => {\n                    console.log(err)\n                })\n            },\n            refreshSelf () {\n                const {newComments, tagsList, newArticles} = this;\n                newComments.length = 0;\n                tagsList.length = 0;\n                newArticles.length = 0;\n                this.getRightInfo();\n            },\n            async initVuexData () {\n                // 对vuex中要通过异步进行初始化的操作都写在这里\n                // 后面对url进行路由守卫,未进入首页前不允许进入其页面\n                // 以此来保证异步数据的初始化完成;\n                // 注意子页面数据要与sessionStorage同步\n                const store = this.$store;\n\n                // vuex配合路由守卫防止首次直接输入url进入文章详情页\n                store.commit('home/updateMyState', true);\n                sessionStorage.setItem('myState', 'true');\n\n                // 博客数量初始化\n                this.axios({\n                    url: '/initVuex',\n                    params: {\n                        tags: this.filterBlog\n                    }\n                }).then(res => {\n                    let blogLength =  res.data[0][0]['blogLength'];\n                    store.commit('home/initVuex', {\n                        blogLength\n                    });\n                    sessionStorage.setItem('blogLength', blogLength.toString());\n                }).catch(err => {\n                    console.log(err)\n                });\n\n                // ip地址初始化\n                let ip = await getUserIP();\n                store.commit('updateIp', ip);\n                sessionStorage.setItem('ip', ip.toString());\n            }\n        },\n        computed: {/*\n            mapState是一个由state对应的函数(每次读取state会执行该函数返回并state)组成的对象;\n            若只需要用state里的值进行初始化(不关心后续state的变化),\n            则可使用this.$store.state的形式进行取值\n            */\n            ...mapState([\"cloudTags\", \"leftCol\", \"lineList\", \"submitBlog\"]),\n            ...mapGetters({\n                phone: \"getDeviceIsPhone\"\n            }),\n            listenScroll () {\n                let elem = this.$refs['scroll'];\n                let width = elem.offsetWidth;\n                return {elem,  width}\n            },\n            ...mapGetters({\n                phone: \"getDeviceIsPhone\"\n            }),\n            ...mapGetters(\"home\", [\"disabled\"]),\n            ...mapState(\"home\", [\"count\", \"filterBlog\"])\n        },\n        mounted() {\n            this.fixRight(this.listenScroll);\n        },\n        created() {\n            this.initVuexData();\n            this.getRightInfo();\n        }\n    }\n</script>\n\n<style scoped>\n    /* 背景色 */\n    .el-container {\n        --gradient-start: #F0EFF0;\n        --gradient-start-text: '#F0EFF0';\n        --gradient-end: #FAF8F9;\n        --gradient-end-text: '#FAF8F9';\n        background: linear-gradient(33deg, var(--gradient-start), var(--gradient-end));\n    }\n\n    .el-header {\n        box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\n    }\n\n    .el-main {\n        padding-bottom: 20px;\n        padding-top: 20px;\n        overflow: visible;\n        min-height: 900px;\n    }\n\n    .my-nav {\n        position: fixed;\n        width: 100%;\n        z-index: 999;\n    }\n\n    .grid-left {\n        min-height: 1px; /*防止切换博客时内容坍塌*/\n    }\n\n    .grid-content {\n        height: 1px;\n    }\n\n    ._fixed {\n        position: fixed;\n        right: 3%;\n    }\n\n    /*\n    bg\n    */\n\n    .bg-purple {\n        --gradient-start: #A16BFE;\n        --gradient-start-text: '#A16BFE';\n        --gradient-end: #DEB0DF;\n        --gradient-end-text: '#DEB0DF';\n        background: linear-gradient(33deg, var(--gradient-start), var(--gradient-end));\n    }\n\n    .test {\n        height: 200px;\n        border: 1px solid #000000;\n    }\n</style>\n\n<style>\n    /* 隐藏body滚动条 */\n    #app::-webkit-scrollbar,\n    body::-webkit-scrollbar{\n        display: none;\n    }\n    #app,\n    body,\n    html {\n        height: 100%;\n        overflow: auto;\n    }\n</style>\n"]}]}