{"remainingRequest":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Learn\\blog-person\\src\\App.vue?vue&type=style&index=0&id=7ba5bd90&scoped=true&lang=css&","dependencies":[{"path":"D:\\Learn\\blog-person\\src\\App.vue","mtime":1578503174846},{"path":"D:\\Learn\\blog-person\\node_modules\\css-loader\\dist\\cjs.js","mtime":1577118249893},{"path":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1577118252216},{"path":"D:\\Learn\\blog-person\\node_modules\\postcss-loader\\src\\index.js","mtime":1572976729857},{"path":"D:\\Learn\\blog-person\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1572976728968},{"path":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js","mtime":1577118252216}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgovKiDog4zmma/oibIgKi8KLmVsLWNvbnRhaW5lciB7CiAgICAtLWdyYWRpZW50LXN0YXJ0OiAjRjBFRkYwOwogICAgLS1ncmFkaWVudC1zdGFydC10ZXh0OiAnI0YwRUZGMCc7CiAgICAtLWdyYWRpZW50LWVuZDogI0ZBRjhGOTsKICAgIC0tZ3JhZGllbnQtZW5kLXRleHQ6ICcjRkFGOEY5JzsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgzM2RlZywgdmFyKC0tZ3JhZGllbnQtc3RhcnQpLCB2YXIoLS1ncmFkaWVudC1lbmQpKTsKfQoKLmVsLWhlYWRlciB7CiAgICBib3gtc2hhZG93OiAwIDJweCAxMnB4IDAgcmdiYSgwLDAsMCwuMSk7Cn0KCi5lbC1tYWluIHsKICAgIHBhZGRpbmctYm90dG9tOiAyMHB4OwogICAgcGFkZGluZy10b3A6IDIwcHg7CiAgICBvdmVyZmxvdzogdmlzaWJsZTsKICAgIG1pbi1oZWlnaHQ6IDkwMHB4Owp9CgoubXktbmF2IHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHdpZHRoOiAxMDAlOwogICAgei1pbmRleDogOTk5Owp9CgouZ3JpZC1sZWZ0IHsKICAgIG1pbi1oZWlnaHQ6IDFweDsgLyrpmLLmraLliIfmjaLljZrlrqLml7blhoXlrrnlnY3loYwqLwp9CgouZ3JpZC1jb250ZW50IHsKICAgIGhlaWdodDogMXB4Owp9CgouX2ZpeGVkIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHJpZ2h0OiAzJTsKfQoKLyoKYmcKKi8KCi5iZy1wdXJwbGUgewogICAgLS1ncmFkaWVudC1zdGFydDogI0ExNkJGRTsKICAgIC0tZ3JhZGllbnQtc3RhcnQtdGV4dDogJyNBMTZCRkUnOwogICAgLS1ncmFkaWVudC1lbmQ6ICNERUIwREY7CiAgICAtLWdyYWRpZW50LWVuZC10ZXh0OiAnI0RFQjBERic7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMzNkZWcsIHZhcigtLWdyYWRpZW50LXN0YXJ0KSwgdmFyKC0tZ3JhZGllbnQtZW5kKSk7Cn0KCi50ZXN0IHsKICAgIGhlaWdodDogMjAwcHg7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwOwp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n    <div id=\"app\"\n         style=\"overflow: auto\"\n         v-infinite-scroll=\"load\"\n         infinite-scroll-disabled=\"disabled\"\n         infinite-scroll-distance=\"100\"\n         infinite-scroll-delay=\"100\">\n        <el-container>\n            <!--顶部导航-->\n            <el-header height=\"40px\">\n                <div class=\"my-nav\">\n                    <Nav/>\n                </div>\n            </el-header>\n            <!--内容区-->\n            <el-main>\n                <el-row>\n                    <!--左-->\n                    <el-col :span=\"phone ? 1 : 3\">\n                        <div class=\"grid-content\"></div>\n                    </el-col>\n                    <!--中-->\n                    <el-col :span=\"phone ? 22 : 18\">\n                        <div class=\"bg-white\">\n                            <el-row :gutter=\"20\">\n                                <!--左-->\n                                <el-col :span=\"leftCol\">\n                                    <div class=\"grid-left\">\n                                        <router-view @initBlogLength=\"initVuexData\" @refreshHome=\"refreshSelf\"/>\n                                    </div>\n                                </el-col>\n                                <!--右-->\n                                <el-col :span=\"8\" v-show=\"cloudTags\">\n                                    <div class=\"grid-right\" ref=\"scroll\">\n                                        <tags-cloud :tags=\"tagsList\"/>\n                                        <new-article :articles=\"newArticles\"/>\n                                        <new-comments :comments=\"newComments\"/>\n                                    </div>\n                                </el-col>\n                                <el-col :span=\"8\" v-show=\"lineList\" class=\"_fixed\">\n                                    <div class=\"grid-right\">\n                                        <line-list></line-list>\n                                    </div>\n                                </el-col>\n                                <el-col :span=\"phone ? 24 : 8\" v-show=\"submitBlog\">\n                                    <div class=\"grid-right\">\n                                        <submit-blog @refreshHome=\"refreshSelf\"/>\n                                    </div>\n                                </el-col>\n                            </el-row>\n                        </div>\n                    </el-col>\n                    <!--右-->\n                    <el-col :span=\"phone ? 1 : 3\">\n                        <div class=\"grid-content\"></div>\n                    </el-col>\n                </el-row>\n            </el-main>\n        </el-container>\n    </div>\n</template>\n\n<script>\n    import Nav from './components/Nav'\n    import {mapGetters, mapState} from \"vuex\";\n    import NewArticle from \"./components/NewArticle\"\n    import NewComments from \"./components/NewComments\"\n    import TagsCloud from \"./components/TagsCloud\"\n    import LineList from \"./components/LineList\"\n    import SubmitBlog from \"./components/SubmitBlog\";\n    import {getUserIP} from \"./assets/js/util\";\n\n    export default {\n        data(){\n          return {\n              tagsList: [],\n              newComments: [],\n              newArticles: []\n          }\n        },\n        components: {\n            Nav,\n            SubmitBlog,\n            NewArticle,\n            NewComments,\n            TagsCloud,\n            LineList\n        },\n        methods: {\n            fixRight ({elem, width}) {\n                elem.style.width = `${width}px`;\n                elem.style.position = 'fixed';\n            },\n            load () {\n                // 通知home组件请求文章列表\n                let count = this.count + 1;\n                this.$store.commit('home/updateCount', count);\n            },\n            loopInit (targetArr, originArr) {\n                targetArr.forEach(ele => {\n                    originArr.push(ele);\n                })\n            },\n            getRightInfo () {\n                this.axios({\n                    url: '/getRightInfo'\n                }).then(res => {\n                    if (res.data.length) {\n                        const data = res.data;\n                        this.loopInit(data[0], this.tagsList);\n                        this.loopInit(data[1], this.newComments);\n                        this.loopInit(data[2], this.newArticles);\n                    }\n                }).catch(err => {\n                    console.log(err)\n                })\n            },\n            refreshSelf () {\n                const {newComments, tagsList, newArticles} = this;\n                newComments.length = 0;\n                tagsList.length = 0;\n                newArticles.length = 0;\n                this.getRightInfo();\n            },\n            async initVuexData () {\n                // 对vuex中要通过异步进行初始化的操作都写在这里\n                // 后面对url进行路由守卫,未进入首页前不允许进入其页面\n                // 以此来保证异步数据的初始化完成;\n                // 注意子页面数据要与sessionStorage同步\n                const store = this.$store;\n\n                // vuex配合路由守卫防止首次直接输入url进入文章详情页\n                store.commit('home/updateMyState', true);\n                sessionStorage.setItem('myState', 'true');\n\n                // 博客数量初始化\n                this.axios({\n                    url: '/initVuex',\n                    params: {\n                        tags: this.filterBlog\n                    }\n                }).then(res => {\n                    let blogLength =  res.data[0][0]['blogLength'];\n                    store.commit('home/initVuex', {\n                        blogLength\n                    });\n                    sessionStorage.setItem('blogLength', blogLength.toString());\n                }).catch(err => {\n                    console.log(err)\n                });\n\n                // ip地址初始化\n                let ip = await getUserIP();\n                store.commit('updateIp', ip);\n                sessionStorage.setItem('ip', ip.toString());\n            }\n        },\n        computed: {/*\n            mapState是一个由state对应的函数(每次读取state会执行该函数返回并state)组成的对象;\n            若只需要用state里的值进行初始化(不关心后续state的变化),\n            则可使用this.$store.state的形式进行取值\n            */\n            ...mapState([\"cloudTags\", \"leftCol\", \"lineList\", \"submitBlog\"]),\n            ...mapGetters({\n                phone: \"getDeviceIsPhone\"\n            }),\n            listenScroll () {\n                let elem = this.$refs['scroll'];\n                let width = elem.offsetWidth;\n                return {elem,  width}\n            },\n            ...mapGetters({\n                phone: \"getDeviceIsPhone\"\n            }),\n            ...mapGetters(\"home\", [\"disabled\"]),\n            ...mapState(\"home\", [\"count\", \"filterBlog\"])\n        },\n        mounted() {\n            this.fixRight(this.listenScroll);\n        },\n        created() {\n            this.initVuexData();\n            this.getRightInfo();\n        }\n    }\n</script>\n\n<style scoped>\n    /* 背景色 */\n    .el-container {\n        --gradient-start: #F0EFF0;\n        --gradient-start-text: '#F0EFF0';\n        --gradient-end: #FAF8F9;\n        --gradient-end-text: '#FAF8F9';\n        background: linear-gradient(33deg, var(--gradient-start), var(--gradient-end));\n    }\n\n    .el-header {\n        box-shadow: 0 2px 12px 0 rgba(0,0,0,.1);\n    }\n\n    .el-main {\n        padding-bottom: 20px;\n        padding-top: 20px;\n        overflow: visible;\n        min-height: 900px;\n    }\n\n    .my-nav {\n        position: fixed;\n        width: 100%;\n        z-index: 999;\n    }\n\n    .grid-left {\n        min-height: 1px; /*防止切换博客时内容坍塌*/\n    }\n\n    .grid-content {\n        height: 1px;\n    }\n\n    ._fixed {\n        position: fixed;\n        right: 3%;\n    }\n\n    /*\n    bg\n    */\n\n    .bg-purple {\n        --gradient-start: #A16BFE;\n        --gradient-start-text: '#A16BFE';\n        --gradient-end: #DEB0DF;\n        --gradient-end-text: '#DEB0DF';\n        background: linear-gradient(33deg, var(--gradient-start), var(--gradient-end));\n    }\n\n    .test {\n        height: 200px;\n        border: 1px solid #000000;\n    }\n</style>\n\n<style>\n    /* 隐藏body滚动条 */\n    #app::-webkit-scrollbar,\n    body::-webkit-scrollbar{\n        display: none;\n    }\n    #app,\n    body,\n    html {\n        height: 100%;\n        overflow: auto;\n    }\n</style>\n"]}]}