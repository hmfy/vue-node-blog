{"remainingRequest":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Learn\\blog-person\\src\\components\\MainContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Learn\\blog-person\\src\\components\\MainContent.vue","mtime":1578233254830},{"path":"D:\\Learn\\blog-person\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1572976728968},{"path":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js","mtime":1577118252216}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwR2V0dGVycywgbWFwU3RhdGV9IGZyb20gInZ1ZXgiOwppbXBvcnQgTmV3QXJ0aWNsZSBmcm9tICIuLi9jb21wb25lbnRzL05ld0FydGljbGUiCmltcG9ydCBOZXdDb21tZW50cyBmcm9tICIuLi9jb21wb25lbnRzL05ld0NvbW1lbnRzIgppbXBvcnQgVGFnc0Nsb3VkIGZyb20gIi4uL2NvbXBvbmVudHMvVGFnc0Nsb3VkIgppbXBvcnQgTGluZUxpc3QgZnJvbSAiLi4vY29tcG9uZW50cy9MaW5lTGlzdCIKaW1wb3J0IFN1Ym1pdEJsb2cgZnJvbSAiLi4vY29tcG9uZW50cy9TdWJtaXRCbG9nIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJNYWluQ29udGVudCIsCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0YWdzTGlzdDogW10sCiAgICAgICAgICAgIG5ld0NvbW1lbnRzOiBbXSwKICAgICAgICAgICAgbmV3QXJ0aWNsZXM6IFtdLAogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgU3VibWl0QmxvZywKICAgICAgICBOZXdBcnRpY2xlLAogICAgICAgIE5ld0NvbW1lbnRzLAogICAgICAgIFRhZ3NDbG91ZCwKICAgICAgICBMaW5lTGlzdAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBsb29wSW5pdCAodGFyZ2V0QXJyLCBvcmlnaW5BcnIpIHsKICAgICAgICAgICAgdGFyZ2V0QXJyLmZvckVhY2goZWxlID0+IHsKICAgICAgICAgICAgICAgIG9yaWdpbkFyci5wdXNoKGVsZSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZXRSaWdodEluZm8gKCkgewogICAgICAgICAgICB0aGlzLmF4aW9zKHsKICAgICAgICAgICAgICAgIHVybDogJy9nZXRSaWdodEluZm8nCiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb29wSW5pdChkYXRhWzBdLCB0aGlzLnRhZ3NMaXN0KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvb3BJbml0KGRhdGFbMV0sIHRoaXMubmV3Q29tbWVudHMpOwogICAgICAgICAgICAgICAgICAgIHRoaXMubG9vcEluaXQoZGF0YVsyXSwgdGhpcy5uZXdBcnRpY2xlcyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICByZWZyZXNoU2VsZiAoKSB7CiAgICAgICAgICAgIGNvbnN0IHtuZXdDb21tZW50cywgdGFnc0xpc3QsIG5ld0FydGljbGVzfSA9IHRoaXM7CiAgICAgICAgICAgIG5ld0NvbW1lbnRzLmxlbmd0aCA9IDA7CiAgICAgICAgICAgIHRhZ3NMaXN0Lmxlbmd0aCA9IDA7CiAgICAgICAgICAgIG5ld0FydGljbGVzLmxlbmd0aCA9IDA7CiAgICAgICAgICAgIHRoaXMuZ2V0UmlnaHRJbmZvKCk7CiAgICAgICAgfSwKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC8qCiAgICAgICAgbWFwU3RhdGXmmK/kuIDkuKrnlLFzdGF0ZeWvueW6lOeahOWHveaVsCjmr4/mrKHor7vlj5ZzdGF0ZeS8muaJp+ihjOivpeWHveaVsOi/lOWbnuW5tnN0YXRlKee7hOaIkOeahOWvueixoTsKICAgICAgICDoi6Xlj6rpnIDopoHnlKhzdGF0ZemHjOeahOWAvOi/m+ihjOWIneWni+WMlijkuI3lhbPlv4PlkI7nu61zdGF0ZeeahOWPmOWMliksCiAgICAgICAg5YiZ5Y+v5L2/55SodGhpcy4kc3RvcmUuc3RhdGXnmoTlvaLlvI/ov5vooYzlj5blgLwKICAgICAgICAqLwogICAgICAgIC4uLm1hcFN0YXRlKFsiY2xvdWRUYWdzIiwgImxlZnRDb2wiLCAibGluZUxpc3QiLCAic3VibWl0QmxvZyJdKSwKICAgICAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgICAgICAgcGhvbmU6ICJnZXREZXZpY2VJc1Bob25lIgogICAgICAgIH0pLAogICAgICAgIGxpc3RlblNjcm9sbCAoKSB7CiAgICAgICAgICAgIGxldCBvZmZzZXRIZWlnaHQgPSB0aGlzLiRyZWZzWydzY3JvbGwnXS5vZmZzZXRIZWlnaHQ7CiAgICAgICAgICAgIHJldHVybiBvZmZzZXRIZWlnaHQKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3RlblNjcm9sbCkKICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuZ2V0UmlnaHRJbmZvKCk7CiAgICB9Cn0K"},{"version":3,"sources":["MainContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MainContent.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <el-row>\r\n        <!--左-->\r\n        <el-col :span=\"phone ? 1 : 3\">\r\n            <div class=\"grid-content\"></div>\r\n        </el-col>\r\n        <!--中-->\r\n        <el-col :span=\"phone ? 22 : 18\">\r\n            <div class=\"bg-white\">\r\n                <el-row :gutter=\"20\">\r\n                    <!--左-->\r\n                    <el-col :span=\"leftCol\">\r\n                        <div class=\"grid-left\">\r\n                            <slot @refreshHome=\"refreshSelf\"/>\r\n                        </div>\r\n                    </el-col>\r\n                    <!--右-->\r\n                    <el-col :span=\"8\" v-show=\"cloudTags\">\r\n                        <div class=\"grid-right\" ref=\"scroll\">\r\n                            <tags-cloud :tags=\"tagsList\"/>\r\n                            <new-article :articles=\"newArticles\"/>\r\n                            <new-comments :comments=\"newComments\"/>\r\n                        </div>\r\n                    </el-col>\r\n                    <el-col :span=\"8\" v-show=\"lineList\" class=\"_fixed\">\r\n                        <div class=\"grid-right\">\r\n                            <line-list></line-list>\r\n                        </div>\r\n                    </el-col>\r\n                    <el-col :span=\"phone ? 24 : 8\" v-show=\"submitBlog\">\r\n                        <div class=\"grid-right\">\r\n                            <submit-blog @refreshHome=\"refreshSelf\"/>\r\n                        </div>\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n        </el-col>\r\n        <!--右-->\r\n        <el-col :span=\"phone ? 1 : 3\">\r\n            <div class=\"grid-content\"></div>\r\n        </el-col>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\n    import {mapGetters, mapState} from \"vuex\";\r\n    import NewArticle from \"../components/NewArticle\"\r\n    import NewComments from \"../components/NewComments\"\r\n    import TagsCloud from \"../components/TagsCloud\"\r\n    import LineList from \"../components/LineList\"\r\n    import SubmitBlog from \"../components/SubmitBlog\";\r\n\r\n    export default {\r\n        name: \"MainContent\",\r\n        data () {\r\n            return {\r\n                tagsList: [],\r\n                newComments: [],\r\n                newArticles: [],\r\n            }\r\n        },\r\n        components: {\r\n            SubmitBlog,\r\n            NewArticle,\r\n            NewComments,\r\n            TagsCloud,\r\n            LineList\r\n        },\r\n        methods: {\r\n            loopInit (targetArr, originArr) {\r\n                targetArr.forEach(ele => {\r\n                    originArr.push(ele);\r\n                })\r\n            },\r\n            getRightInfo () {\r\n                this.axios({\r\n                    url: '/getRightInfo'\r\n                }).then(res => {\r\n                    if (res.data.length) {\r\n                        const data = res.data;\r\n                        this.loopInit(data[0], this.tagsList);\r\n                        this.loopInit(data[1], this.newComments);\r\n                        this.loopInit(data[2], this.newArticles);\r\n                    }\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n            refreshSelf () {\r\n                const {newComments, tagsList, newArticles} = this;\r\n                newComments.length = 0;\r\n                tagsList.length = 0;\r\n                newArticles.length = 0;\r\n                this.getRightInfo();\r\n            },\r\n        },\r\n        computed: {\r\n            /*\r\n            mapState是一个由state对应的函数(每次读取state会执行该函数返回并state)组成的对象;\r\n            若只需要用state里的值进行初始化(不关心后续state的变化),\r\n            则可使用this.$store.state的形式进行取值\r\n            */\r\n            ...mapState([\"cloudTags\", \"leftCol\", \"lineList\", \"submitBlog\"]),\r\n            ...mapGetters({\r\n                phone: \"getDeviceIsPhone\"\r\n            }),\r\n            listenScroll () {\r\n                let offsetHeight = this.$refs['scroll'].offsetHeight;\r\n                return offsetHeight\r\n            }\r\n        },\r\n        mounted() {\r\n            console.log(this.listenScroll)\r\n        },\r\n        created() {\r\n            this.getRightInfo();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .grid-left {\r\n        min-height: 1px; /*防止切换博客时内容坍塌*/\r\n    }\r\n\r\n    .grid-content {\r\n        height: 1px;\r\n    }\r\n\r\n    ._fixed {\r\n        position: fixed;\r\n        right: 3%;\r\n    }\r\n</style>"]}]}