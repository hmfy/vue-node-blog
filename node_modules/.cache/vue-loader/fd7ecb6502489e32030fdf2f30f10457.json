{"remainingRequest":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Learn\\blog-person\\src\\components\\MainContent.vue?vue&type=style&index=0&id=37ff9280&scoped=true&lang=css&","dependencies":[{"path":"D:\\Learn\\blog-person\\src\\components\\MainContent.vue","mtime":1578233254830},{"path":"D:\\Learn\\blog-person\\node_modules\\css-loader\\dist\\cjs.js","mtime":1577118249893},{"path":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1577118252216},{"path":"D:\\Learn\\blog-person\\node_modules\\postcss-loader\\src\\index.js","mtime":1572976729857},{"path":"D:\\Learn\\blog-person\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1572976728968},{"path":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js","mtime":1577118252216}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5ncmlkLWxlZnQgewogICAgbWluLWhlaWdodDogMXB4OyAvKumYsuatouWIh+aNouWNmuWuouaXtuWGheWuueWdjeWhjCovCn0KCi5ncmlkLWNvbnRlbnQgewogICAgaGVpZ2h0OiAxcHg7Cn0KCi5fZml4ZWQgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgcmlnaHQ6IDMlOwp9Cg=="},{"version":3,"sources":["MainContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"MainContent.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <el-row>\r\n        <!--左-->\r\n        <el-col :span=\"phone ? 1 : 3\">\r\n            <div class=\"grid-content\"></div>\r\n        </el-col>\r\n        <!--中-->\r\n        <el-col :span=\"phone ? 22 : 18\">\r\n            <div class=\"bg-white\">\r\n                <el-row :gutter=\"20\">\r\n                    <!--左-->\r\n                    <el-col :span=\"leftCol\">\r\n                        <div class=\"grid-left\">\r\n                            <slot @refreshHome=\"refreshSelf\"/>\r\n                        </div>\r\n                    </el-col>\r\n                    <!--右-->\r\n                    <el-col :span=\"8\" v-show=\"cloudTags\">\r\n                        <div class=\"grid-right\" ref=\"scroll\">\r\n                            <tags-cloud :tags=\"tagsList\"/>\r\n                            <new-article :articles=\"newArticles\"/>\r\n                            <new-comments :comments=\"newComments\"/>\r\n                        </div>\r\n                    </el-col>\r\n                    <el-col :span=\"8\" v-show=\"lineList\" class=\"_fixed\">\r\n                        <div class=\"grid-right\">\r\n                            <line-list></line-list>\r\n                        </div>\r\n                    </el-col>\r\n                    <el-col :span=\"phone ? 24 : 8\" v-show=\"submitBlog\">\r\n                        <div class=\"grid-right\">\r\n                            <submit-blog @refreshHome=\"refreshSelf\"/>\r\n                        </div>\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n        </el-col>\r\n        <!--右-->\r\n        <el-col :span=\"phone ? 1 : 3\">\r\n            <div class=\"grid-content\"></div>\r\n        </el-col>\r\n    </el-row>\r\n</template>\r\n\r\n<script>\r\n    import {mapGetters, mapState} from \"vuex\";\r\n    import NewArticle from \"../components/NewArticle\"\r\n    import NewComments from \"../components/NewComments\"\r\n    import TagsCloud from \"../components/TagsCloud\"\r\n    import LineList from \"../components/LineList\"\r\n    import SubmitBlog from \"../components/SubmitBlog\";\r\n\r\n    export default {\r\n        name: \"MainContent\",\r\n        data () {\r\n            return {\r\n                tagsList: [],\r\n                newComments: [],\r\n                newArticles: [],\r\n            }\r\n        },\r\n        components: {\r\n            SubmitBlog,\r\n            NewArticle,\r\n            NewComments,\r\n            TagsCloud,\r\n            LineList\r\n        },\r\n        methods: {\r\n            loopInit (targetArr, originArr) {\r\n                targetArr.forEach(ele => {\r\n                    originArr.push(ele);\r\n                })\r\n            },\r\n            getRightInfo () {\r\n                this.axios({\r\n                    url: '/getRightInfo'\r\n                }).then(res => {\r\n                    if (res.data.length) {\r\n                        const data = res.data;\r\n                        this.loopInit(data[0], this.tagsList);\r\n                        this.loopInit(data[1], this.newComments);\r\n                        this.loopInit(data[2], this.newArticles);\r\n                    }\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n            refreshSelf () {\r\n                const {newComments, tagsList, newArticles} = this;\r\n                newComments.length = 0;\r\n                tagsList.length = 0;\r\n                newArticles.length = 0;\r\n                this.getRightInfo();\r\n            },\r\n        },\r\n        computed: {\r\n            /*\r\n            mapState是一个由state对应的函数(每次读取state会执行该函数返回并state)组成的对象;\r\n            若只需要用state里的值进行初始化(不关心后续state的变化),\r\n            则可使用this.$store.state的形式进行取值\r\n            */\r\n            ...mapState([\"cloudTags\", \"leftCol\", \"lineList\", \"submitBlog\"]),\r\n            ...mapGetters({\r\n                phone: \"getDeviceIsPhone\"\r\n            }),\r\n            listenScroll () {\r\n                let offsetHeight = this.$refs['scroll'].offsetHeight;\r\n                return offsetHeight\r\n            }\r\n        },\r\n        mounted() {\r\n            console.log(this.listenScroll)\r\n        },\r\n        created() {\r\n            this.getRightInfo();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .grid-left {\r\n        min-height: 1px; /*防止切换博客时内容坍塌*/\r\n    }\r\n\r\n    .grid-content {\r\n        height: 1px;\r\n    }\r\n\r\n    ._fixed {\r\n        position: fixed;\r\n        right: 3%;\r\n    }\r\n</style>"]}]}