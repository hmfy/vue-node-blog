{"remainingRequest":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Learn\\blog-person\\src\\views\\EditBlog.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Learn\\blog-person\\src\\views\\EditBlog.vue","mtime":1578147302717},{"path":"D:\\Learn\\blog-person\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1572976728968},{"path":"D:\\Learn\\blog-person\\node_modules\\vue-loader\\lib\\index.js","mtime":1577118252216}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBoaWdobGlnaHRKUyBmcm9tICdoaWdobGlnaHQuanMnCmltcG9ydCB7cXVpbGxFZGl0b3J9IGZyb20gInZ1ZS1xdWlsbC1lZGl0b3IiICAvLyDlsYDpg6jlvJXlhaUKaW1wb3J0IGVkaXRvckNvbmZpZyBmcm9tICIuLi9hc3NldHMvanMvZWRpdG9yQ29uZmlnIjsKaW1wb3J0IHttYXBTdGF0ZX0gZnJvbSAidnVleCIKCi8qCiogIOivreiogOexu+Wei+mFjee9rgoqICovCmhpZ2hsaWdodEpTLmNvbmZpZ3VyZSh7CiAgICBsYW5ndWFnZXM6IFsnamF2YXNjcmlwdCddCn0pOwoKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIG5hbWU6ICdlZGl0QmxvZycsCiAgICAgICAgcXVpbGxFZGl0b3IKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnLAogICAgICAgICAgICBlZGl0b3JPcHRpb246IGVkaXRvckNvbmZpZwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb25FZGl0b3JCbHVyKHF1aWxsKSB7CiAgICAgICAgLy8gICAg57yW6L6R5qGG5aSx54SmCiAgICAgICAgICAgIGxldCBodG1sID0gdGhpcy4kcmVmcy5teVF1aWxsRWRpdG9yLnF1aWxsLnJvb3QuaW5uZXJIVE1MOwogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImJsb2cvdXBkYXRlQ29udGVudCIsIGh0bWwpOwogICAgICAgIH0sCiAgICAgICAgb25FZGl0b3JGb2N1cyhxdWlsbCkgewogICAgICAgIC8vICAgIOe8lui+keahhuiBmueEpgogICAgICAgIH0sCiAgICAgICAgb25FZGl0b3JSZWFkeShxdWlsbCkgewogICAgICAgIC8vICAgIOe8lui+keWZqOWIneWni+WMluWujOavlQogICAgICAgIH0sCiAgICAgICAgb25FZGl0b3JDaGFuZ2Uoe3F1aWxsLCBodG1sLCB0ZXh0fSkgewogICAgICAgICAgICAvLyDnrKzkuIDkuKrlj4LmlbDkuLrlvZPliY3nmoRxdWlsbOWvueWDjwogICAgICAgICAgICAvLyDpgJrov4dyZWbmlrnlvI/kuZ/lj6/ku6Xojrflj5ZxdWlsbOWvueixoTogdGhpcy4kcmVmcy5teVF1aWxsRWRpdG9yLnF1aWxsCiAgICAgICAgICAgIC8vIHRoaXMuY29udGVudCA9IGh0bWwgLy8g5bCG5b2T5YmN5a+M5paH5pys5YaF55qEaHRtbOe7k+aehOaPkOWPluWHuuadpQogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKFsiaXNMb2dpbiJdKSwKICAgICAgICAuLi5tYXBTdGF0ZSgiYmxvZyIsIFsiaXNTdWJtaXQiLCAiZWRpdG9yQ29udGVudCJdKQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgZWRpdG9yQ29udGVudCAodmFsKSB7CiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IHZhbDsKICAgICAgICB9CiAgICB9LAogICAgbmFtZTogIkVkaXRCbG9nIiwKICAgIGJlZm9yZVJvdXRlVXBkYXRlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAgICAgbmV4dCh2bSA9PiB7CiAgICAgICAgICAgIGlmICh2bS5pc0xvZ2luKSB7CiAgICAgICAgICAgICAgICBuZXh0KCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZtLiRjb25maXJtKCfnmbvpmYblkI7lj6/mn6XnnIss5piv5ZCm5Y6755m76ZmGPycsICfmuKnppqjmj5DnpLonLCB7CiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICflpb3nmoQnLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICfnrpfkuoYnLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdm0uJHJvdXRlci5wdXNoKCIvbG9naW4iKQogICAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgICAgICAgIG5leHQoZnJvbS5wYXRoKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvKiDnu5nphY3nva7pobXmjILovb3kuIDkupvmnKzpobXpnaLnmoTmlrnms5UgKi8KICAgICAgICAvKmNvbnN0IHtzdWJtaXRDb250ZW50LCBkcmF3fSA9IHRoaXM7CiAgICAgICAgdGhpcy4kcmVmcy5teVF1aWxsRWRpdG9yLnF1aWxsLl9zZWxmID0ge30qLwogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLiRzdG9yZTsKICAgICAgICBzdG9yZS5jb21taXQoInNldExlZnRUYWdzTGluZSIsIHsKICAgICAgICAgICAgc3VibWl0QmxvZzogdHJ1ZSwKICAgICAgICAgICAgbGVmdENvbDogMjQKICAgICAgICB9KQogICAgfQp9Cg=="},{"version":3,"sources":["EditBlog.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditBlog.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <quill-editor\r\n            :options=\"editorOption\"\r\n            @blur=\"onEditorBlur($event)\"\r\n            @change=\"onEditorChange($event)\"\r\n            @focus=\"onEditorFocus($event)\"\r\n            @ready=\"onEditorReady($event)\"\r\n            ref=\"myQuillEditor\"\r\n            v-model=\"content\">\r\n    </quill-editor>\r\n</template>\r\n\r\n<script>\r\n    import highlightJS from 'highlight.js'\r\n    import {quillEditor} from \"vue-quill-editor\"  // 局部引入\r\n    import editorConfig from \"../assets/js/editorConfig\";\r\n    import {mapState} from \"vuex\"\r\n\r\n    /*\r\n    *  语言类型配置\r\n    * */\r\n    highlightJS.configure({\r\n        languages: ['javascript']\r\n    });\r\n\r\n    export default {\r\n        components: {\r\n            name: 'editBlog',\r\n            quillEditor\r\n        },\r\n        data() {\r\n            return {\r\n                content: '',\r\n                editorOption: editorConfig\r\n            }\r\n        },\r\n        methods: {\r\n            onEditorBlur(quill) {\r\n            //    编辑框失焦\r\n                let html = this.$refs.myQuillEditor.quill.root.innerHTML;\r\n                this.$store.commit(\"blog/updateContent\", html);\r\n            },\r\n            onEditorFocus(quill) {\r\n            //    编辑框聚焦\r\n            },\r\n            onEditorReady(quill) {\r\n            //    编辑器初始化完毕\r\n            },\r\n            onEditorChange({quill, html, text}) {\r\n                // 第一个参数为当前的quill对像\r\n                // 通过ref方式也可以获取quill对象: this.$refs.myQuillEditor.quill\r\n                // this.content = html // 将当前富文本内的html结构提取出来\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState([\"isLogin\"]),\r\n            ...mapState(\"blog\", [\"isSubmit\", \"editorContent\"])\r\n        },\r\n        watch: {\r\n            editorContent (val) {\r\n                this.content = val;\r\n            }\r\n        },\r\n        name: \"EditBlog\",\r\n        beforeRouteUpdate(to, from, next) {\r\n            next(vm => {\r\n                if (vm.isLogin) {\r\n                    next()\r\n                } else {\r\n                    vm.$confirm('登陆后可查看,是否去登陆?', '温馨提示', {\r\n                        confirmButtonText: '好的',\r\n                        cancelButtonText: '算了',\r\n                        type: 'warning'\r\n                    }).then(() => {\r\n                        vm.$router.push(\"/login\")\r\n                    }).catch(() => {\r\n                        next(from.path)\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        mounted() {\r\n            /* 给配置页挂载一些本页面的方法 */\r\n            /*const {submitContent, draw} = this;\r\n            this.$refs.myQuillEditor.quill._self = {}*/\r\n        },\r\n        created() {\r\n            const store = this.$store;\r\n            store.commit(\"setLeftTagsLine\", {\r\n                submitBlog: true,\r\n                leftCol: 24\r\n            })\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}